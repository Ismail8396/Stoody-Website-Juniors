const toggleSwitch=document.querySelector('.theme-switch input[type="checkbox"]'),currentTheme=localStorage.getItem("theme");function switchTheme(e){e.target.checked?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))}currentTheme&&(document.documentElement.setAttribute("data-theme",currentTheme),"light"===currentTheme&&null!=toggleSwitch&&(toggleSwitch.checked=!0)),null!=toggleSwitch&&toggleSwitch.addEventListener("change",switchTheme,!1);
const developmentMode="DEVELOPMENT",releaseMode="RELEASE",stoodyEnvironment="DEVELOPMENT",StoodyBootstrapFileIcons={mp4:"mdi mdi-play",mp3:"bi-music-note",ogg:"bi-music-note",wav:"bi-music-note",pdf:"bi-file-earmark-pdf",rar:"bi-file-zip",zip:"bi-file-zip-fill",doc:"bi-file-word-fill",docx:"bi-file-word-fill",docm:"bi-file-word-fill",dot:"bi-file-word-fill",txt:"bi-type",jpg:"bi-file-earmark-richtext-fill",png:"bi-file-earmark-richtext-fill",jpeg:"bi-file-earmark-richtext-fill",tif:"bi-file-earmark-richtext-fill",tiff:"bi-file-earmark-richtext-fill",flp:"bi-file-earmark-music",file:"bi-file-earmark",java:"bi-file-earmark-code",jsp:"bi-file-earmark-code",cpp:"bi-file-earmark-code",hxx:"bi-file-earmark-code",Hxx:"bi-file-earmark-code",HXX:"bi-file-earmark-code",c:"bi-file-earmark-code",h:"bi-file-earmark-code",html:"bi-file-earmark-code",css:"bi-file-earmark-code",js:"bi-file-earmark-code",py:"bi-file-earmark-code",class:"bi-file-earmark-code",cmd:"bi-file-earmark-code",lib:"bi-stack",jar:"bi-stack",stoody:"bi-emoji-sunglasses"};function getIconByExtension(e){for(const[t,n]of Object.entries(StoodyBootstrapFileIcons))if(t==e)return n;return StoodyBootstrapFileIcons.file}function checkIfObject(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function parseFileSize(e){var t=Math.pow(10,1);return(e=Math.round(e/1024))<1e3?e+" KB":(e=Number.parseFloat(e/1024))<1e3?Math.round(e*t)/t+" MB":(e=Number.parseFloat(e/1024),Math.round(e*t)/t+" GB")}function timeSince(e){var t=Math.floor((new Date-e)/1e3),n=t/31536e3;return n>1?Math.floor(n)+" years":(n=t/2592e3)>1?Math.floor(n)+" months":(n=t/86400)>1?Math.floor(n)+" days":(n=t/3600)>1?Math.floor(n)+" hours":(n=t/60)>1?Math.floor(n)+" minutes":Math.floor(t)+" seconds"}function formattedTimeSince(e){var t=1e3*e;return timeSince(new Date(Date.now()-t))}function naiveSearch(e,t){return e.toLowerCase().includes(t.toLowerCase())}function setCookie(e,t,n){var o="";if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toUTCString()}document.cookie=e+"="+(t||"")+o+"; path=/"}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function setCurrentLocale(e){setCookie("Locale",e.toLowerCase(),30),location.reload()}function get_url_extension(e){return e.split(/[#?]/)[0].split(".").pop().trim()}const CourseLevelEnum={Beginners:0,Intermediate:1,Advance:2,ZeroToHero:3};function getBlankLecture(){return{title:null,article:new FormData,articleName:null,description:null,locked:!0,uiCollapsed:!1}}function getBlankSection(){return{title:"",lectures:[]}}function getBlankUserFile(){return{id:0,name:"",url:new FormData}}function getBlankVideo(){return{id:0,name:"",url:new FormData,videoDuration:0,subtitles:[]}}function getBlankCourse(){return{id:0,congratulationsMessage:"",contextTags:"",currency:"",description:"",discount:"",languageCode:"",tags:"",title:"",welcomeMessage:"",courseCategoryId:0,courseStatus:0,level:0,price:0,thumbnail:null,promoVideo:null,sections:[]}}!function(){if($(".dropdown-menu a.dropdown-toggle").length&&$(".dropdown-menu a.dropdown-toggle").on("click",(function(e){return $(this).next().hasClass("show")||$(this).parents(".dropdown-menu").first().find(".show").removeClass("show"),$(this).next(".dropdown-menu").toggleClass("show"),$(this).parents("li.nav-item.dropdown.show").on("hidden.bs.dropdown",(function(e){$(".dropdown-submenu .show").removeClass("show")})),!1})),$('[data-bs-toggle="tooltip"]').length)[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)}));if($('[data-bs-toggle="popover"]').length)[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function(e){return new bootstrap.Popover(e)}));if($("#cardRadioone , #cardRadioTwo").length&&($("#internetpayment").hide(),$("#cardRadioone").on("change",(function(){this.checked&&($("#cardpayment").show(),$("#internetpayment").hide())})),$("#cardRadioTwo").on("change",(function(){this.checked&&($("#internetpayment").show(),$("#cardpayment").hide())}))),$(".password-field input").length){function e(e){var t=0;return e.length>=6&&(t+=1),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(t+=1),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(t+=1),t}$(".password-field input").on("keyup",(function(){var t=e($(this).val()),n=$(this).parent(".password-field");n.removeClass((function(e,t){return(t.match(/\level\S+/g)||[]).join(" ")})),n.addClass("level"+t)}))}if($('[data-upload-id="courseImage"]').length){new FileUploadWithPreview.FileUploadWithPreview("courseImage")}if($("#nav-toggle").length&&$("#nav-toggle").on("click",(function(e){e.preventDefault(),$("#db-wrapper").toggleClass("toggled")})),$("#invoice").length&&$("#invoice").find(".print-link").on("click",(function(){$.print("#invoice")})),$(".sidebar-nav-fixed a").length&&$(".sidebar-nav-fixed a").on("click",(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);(t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top-90},1e3,(function(){var e=$(t);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()})))}$(".sidebar-nav-fixed a").each((function(){$(this).removeClass("active")})),$(this).addClass("active")})),$("#checkAll").length&&$("#checkAll").on("click",(function(){$("input:checkbox").not(this).prop("checked",this.checked)})),$("#btn-icon").length&&$(".btn-icon").on("click",(function(){$(this).parent().addClass("active").siblings().removeClass("active")})),$(".stopevent").length&&$(document).on("click.bs.dropdown.data-api",".stopevent",(function(e){e.stopPropagation()})),$("input[name=tags]").length){var t=document.querySelector("input[name=tags]");new Tagify(t)}if($(".tagifyInput").each((function(e,t){new Tagify(t)})),$(".headingTyped").length){const q=$(".typedTextContent").text().split(", ");console.log(q);new Typed(".headingTyped",{strings:q,typeSpeed:30,backSpeed:30,backDelay:2e3,loop:!0})}if($(".needs-validation").length){var n=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(n).forEach((function(e){e.addEventListener("submit",(function(t){e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")}),!1)}))}if($(".toast").length)[].slice.call(document.querySelectorAll(".toast")).map((function(e){return new bootstrap.Toast(e)}));if($(".offcanvas").length)[].slice.call(document.querySelectorAll(".offcanvas")).map((function(e){return new bootstrap.Offcanvas(e)}));if($(".dropdown-toggle").length)[].slice.call(document.querySelectorAll(".dropdown-toggle")).map((function(e){return new bootstrap.Dropdown(e)}));if($("#dataTableBasic").length&&$(document).ready((function(){$("#dataTableBasic").DataTable({responsive:!0})})),$("#liveAlertPlaceholder").length){var o=document.getElementById("liveAlertPlaceholder"),i=document.getElementById("liveAlertBtn");i&&i.addEventListener("click",(function(){var e,t,n;e="Nice, you triggered this alert message!",t="success",(n=document.createElement("div")).innerHTML='<div class="alert alert-'+t+' alert-dismissible" role="alert">'+e+'<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>',o.append(n)}))}if($("#typed").length)new Typed("#typed",{stringsElement:"#typed-strings",typeSpeed:40,backSpeed:40,backDelay:1e3,loop:!0});if($("#slider").length){var a=document.getElementById("slider");noUiSlider.create(a,{start:[32],connect:[!0,!1],range:{min:0,max:60},tooltips:[wNumb({decimals:0})]})}if($(".glightboxGallery").length)GLightbox({selector:".glightboxGallery"});const l=65565,r="/sign-in",s="/redirect-page",d="/stoody/api/v1",c=d+"/user";function u(e,t){$("#"+e).length?1==t?$("#"+e).show():$("#"+e).hide():console.log("There's no such element with this id:"+e)}function p(e,t){return $("#"+e).length?(t?$("#"+e).prop("disabled",!0):$("#"+e).prop("disabled",!1),!0):(console.log(e+" does not belong to any existing element!"),!1)}if($("#standard_navbar_code_a").length){const j={SNB_LIKE:"fe fe-thumbs-up",SNB_AWARD:"bi-award",SNB_INFO:"bi-info-circle"};let U=[];function m(e){let t=$("#dropdownNotificationSecond"),n=$("#dropdownNotificationSecondMobile");e?(t.hasClass("indicator indicator-primary")||t.addClass("indicator indicator-primary"),n.hasClass("indicator indicator-primary")||n.addClass("indicator indicator-primary")):(t.hasClass("indicator indicator-primary")&&t.removeClass("indicator indicator-primary"),n.hasClass("indicator indicator-primary")&&n.removeClass("indicator indicator-primary"))}function f(){var e='                                    <li class="p-3 text-muted">                                        <i class="bi-bell-slash-fill"></i>                                        <span class="ms-2">No Notifications</span>                                    </li>';function t(e){let t=[],n=!1;if(e)for(let e=0;e<U.length;e++){let o=U[e];o.read||(n=!0);let i='<li class="list-group-item bg-light">                                        <div class="row">                                            <div class="col">                                                <a class="text-body" href="#">                                                    <div class="d-flex">'+(o.senderPhotoUrl?'                                                        <img src="'+o.senderPhotoUrl+'" alt="" class="avatar-md rounded-circle">':"")+'                                                        <div class="ms-3">                                                            <h5 class="fw-bold mb-1"> '+o.senderUsername+' </h5>                                                            <p class="mb-3 text-body">'+o.content+'                                                            </p>                                                            <span class="fs-6 text-muted">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span><span\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="'+j[o.badge]+' text-success me-1"></span>'+o.createdAt+'</span>                                                            </span>                                                        </div>                                                    </div>                                                </a>                                            </div>                                            <div class="col-auto text-center me-2">'+(o.read?"":'                                                <a id="notificationSecondMarkAsRead'+o.id+'" href="#" class="badge-dot bg-info">')+'                                                </a>                                                <div>                                                    <a id="notificationSecondRemoveNotification'+o.id+'" href="#" class="bg-transparent">                                                        <i class="fe fe-x text-muted"></i>                                                    </a>                                                </div>                                            </div>                                        </div>                                    </li>';t.push(i)}else for(let e=0;e<U.length;e++){let o=U[e];o.read||(n=!0);let i='<li class="list-group-item bg-light">                                        <div class="row">                                            <div class="col">                                                <a class="text-body" href="#">                                                    <div class="d-flex">'+(o.senderPhotoUrl?'                                                        <img src="'+o.senderPhotoUrl+'" alt="" class="avatar-md rounded-circle">':"")+'                                                        <div class="ms-3">                                                            <h5 class="fw-bold mb-1"> '+o.senderUsername+' </h5>                                                            <p class="mb-3 text-body">'+o.content+'                                                            </p>                                                            <span class="fs-6 text-muted">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span><span\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="'+j[o.badge]+' text-success me-1"></span>'+o.createdAt+'</span>                                                            </span>                                                        </div>                                                    </div>                                                </a>                                            </div>                                            <div class="col-auto text-center me-2">'+(o.read?"":'                                                <a id="notificationSecondMarkAsReadMobile'+o.id+'" href="#" class="badge-dot bg-info">')+'                                                </a>                                                <div>                                                    <a id="notificationSecondRemoveNotificationMobile'+o.id+'" href="#" class="bg-transparent">                                                        <i class="fe fe-x text-muted"></i>                                                    </a>                                                </div>                                            </div>                                        </div>                                    </li>';t.push(i)}return{_anyUnreadMessage_:n,_variables_:t}}if(t(!1)._anyUnreadMessage_?m(!0):m(!1),U.length<1)$("#notificationBoxSeeAllButton").hide(),$("#notificationBoxListGroup").html(e),$("#notificationBoxSeeAllButtonMobile").hide(),$("#notificationBoxListGroupMobile").html(e);else{let e=t(!1)._variables_.reverse(),n=t(!0)._variables_.reverse();$("#notificationBoxSeeAllButton").show(),$("#notificationBoxListGroup").html(e.join(" ")),$("#notificationBoxSeeAllButtonMobile").show(),$("#notificationBoxListGroupMobile").html(n.join(" "));for(let e=0;e<U.length;e++)$("#notificationSecondRemoveNotification"+U[e].id).on("click",(function(){console.log("remove this "+U[e].id);var t={url:"/stoody/api/v1/user/notifications/simple/remove?id="+U[e].id,method:"POST",timeout:0};$.ajax(t).done((function(e){h()})),$(this).hide()})),$("#notificationSecondRemoveNotificationMobile"+U[e].id).on("click",(function(){console.log("remove this "+U[e].id);var t={url:"/stoody/api/v1/user/notifications/simple/remove?id="+U[e].id,method:"POST",timeout:0};$.ajax(t).done((function(e){h()})),$(this).hide()})),U[e].read||($("#notificationSecondMarkAsRead"+U[e].id).on("click",(function(){console.log("clicked"+U[e].id);var t={url:"/stoody/api/v1/user/notifications/simple/read?id="+U[e].id,method:"POST",timeout:0};$.ajax(t).done((function(e){h()})),$(this).hide()})),$("#notificationSecondMarkAsReadMobile"+U[e].id).on("click",(function(){console.log("clicked"+U[e].id);var t={url:"/stoody/api/v1/user/notifications/simple/read?id="+U[e].id,method:"POST",timeout:0};$.ajax(t).done((function(e){h()})),$(this).hide()})))}}function h(){$.ajax({url:"/stoody/api/v1/user/notifications/simple/get/all",method:"GET",timeout:0}).done((function(e){try{e.response.length<1?(U=[],f()):U=e.response}catch(e){U=[]}f()}))}h();var g=null,_=null,v=new SockJS("/ws");(g=Stomp.over(v)).connect({},(function(e){g.subscribe("/all/messages",(function(e){h()}))})),v=new SockJS("/ws"),(_=Stomp.over(v)).connect({},(function(e){_.subscribe("/user/specific",(function(e){h()}))}))}if($("#sign_in_page_submit_button").length&&$("#sign_in_page_submit_button").on("click",(function(){$("#sign_in_page_submit_button").attr("disabled",!0),$("#sign_in_page_submit_button_spinner").show();var e=new FormData;e.append("username",$("#username").val()),e.append("password",$("#password").val());var t={url:c+r,method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:e};$.ajax(t).done((function(e){$("#sign_in_page_submit_button_spinner").hide();let t=JSON.parse(e),n=t.responseStatus,o=t.response;"OTP_REQUIRED_AND_SENT"==n?window.location.href="/verify-password?openCode="+l:"SUCCESS"==n?(console.log(o),setCookie("Auth",o,7),window.location.href="/",console.log(getCookie("Auth"))):($("#sign_in_page_submit_button").attr("disabled",!1),$("#error_div").show())})).fail((function(){$("#sign_in_page_submit_button").attr("disabled",!1),$("#sign_in_page_submit_button_spinner").hide(),$("#error_div").show()}))})),$("#verify_password_page_submit_button").length&&$("#verify_password_page_submit_button").on("click",(function(){$("#verify_password_page_submit_button").attr("disabled",!0),$("#verify_password_page_submit_button_spinner").show();var e=new FormData;e.append("token",$("#validationCode").val()),e.append("username",$("#username").val());var t={url:c+r+"/verify",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:e};$.ajax(t).done((function(e){let t=JSON.parse(e),n=t.responseStatus,o=t.response;"SUCCESS"==n?(console.log(o),setCookie("Auth",o,7),window.location.href=s+"?openCode="+l+"&header=global.success&message=global.you_have_signed_in_successfully",console.log(getCookie("Auth"))):"FAIL"==n?($("#verify_password_page_submit_button").attr("disabled",!1),$("#error_div").show()):window.location.href="ACCOUNT_TEMPORAL_BLOCK_TOO_MANY_REQUESTS"==n?s+"?openCode="+l+"&header=global.account_blocked_temporarily&message=global.account_blocked_too_many_attempts":s+"?openCode="+l+"&header=global.error&message=global.unknown_error_happened_sorry"})).fail((function(){window.location.href=s+"?openCode="+l+"&header=global.error&message=global.unknown_error_happened_sorry"}))})),$("#profile_edit_update_picture_button").length&&($("#profile_edit_update_picture_button").on("click",(function(){$("#profile_edit_update_picture_input_file").click()})),$("#profile_edit_update_picture_input_file").on("change",(function(e){p("profile_edit_delete_picture_button",!0),$("#profile_edit_delete_picture_button_spinner").hide(),$("#profile_edit_update_picture_button_spinner").show(),$("#profile_edit_page_avatar_error").hide();let t=new FormData;t.append("file",document.getElementById("profile_edit_update_picture_input_file").files[0]),console.log(document.getElementById("profile_edit_update_picture_input_file").files[0]);var n={url:"/stoody/api/v1/upload/user/file",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:t};$.ajax(n).done((function(e){try{let o=JSON.parse(e),i=o.responseStatus,a=o.response;if("SUCCESS"==i){var t=new FormData;t.append("pictureURL",a.url);var n={url:"/stoody/api/v1/user/update/picture",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:t};$.ajax(n).done((function(e){let t=JSON.parse(e),n=t.responseStatus;t.response;"SUCCESS"==n?location.reload():(p("profile_edit_delete_picture_button",!1),$("#profile_edit_delete_picture_button_spinner").hide(),$("#profile_edit_update_picture_button_spinner").hide(),$("#profile_edit_page_avatar_error").show())})).fail((function(){p("profile_edit_delete_picture_button",!1),$("#profile_edit_delete_picture_button_spinner").hide(),$("#profile_edit_update_picture_button_spinner").hide(),$("#profile_edit_page_avatar_error").show()}))}else p("profile_edit_delete_picture_button",!1),$("#profile_edit_delete_picture_button_spinner").hide(),$("#profile_edit_update_picture_button_spinner").hide(),$("#profile_edit_page_avatar_error").show()}catch(e){p("profile_edit_delete_picture_button",!1),$("#profile_edit_delete_picture_button_spinner").hide(),$("#profile_edit_update_picture_button_spinner").hide(),$("#profile_edit_page_avatar_error").show()}})).fail((function(){p("profile_edit_delete_picture_button",!1),$("#profile_edit_delete_picture_button_spinner").hide(),$("#profile_edit_update_picture_button_spinner").hide(),$("#profile_edit_page_avatar_error").show()}))}))),$("#profile_edit_delete_picture_button").length&&$("#profile_edit_delete_picture_button").on("click",(function(){p("profile_edit_update_picture_button",!0),$("#profile_edit_delete_picture_button_spinner").show(),$("#profile_edit_update_picture_button_spinner").hide(),$("#profile_edit_page_avatar_error").hide();$.ajax({url:"/stoody/api/v1/user/delete/picture",method:"POST",timeout:0}).done((function(e){location.reload()})).fail((function(){p("profile_edit_update_picture_button",!1),$("#profile_edit_delete_picture_button_spinner").hide(),$("#profile_edit_update_picture_button_spinner").hide(),$("#profile_edit_page_avatar_error").show()}))})),$("#userProfileSecurityPage").length){function b(e){$("#securityValidationModal").modal("show"),$("#verificationCodeInputError").hide(),$("#verificationCodeInput").val(""),$("#verifyButton").off(),$("#verifyButton").on("click",(function(){let t;t="email"==e?"/user/profile/security/email/verify?email="+$("#email").val().trim()+"&otp="+$("#verificationCodeInput").val().trim():"/user/profile/security/phone/verify?phoneNumber="+$("#phone").val().trim()+"&otp="+$("#verificationCodeInput").val().trim();var n={url:t,method:"POST",timeout:0};$.ajax(n).done((function(e){try{let t=e.responseStatus,n=e.response;"SUCCESS"==t?location.reload():"BAD_REQUEST"==t||"ACCESS_DENIED"==t?($("#verificationCodeInputError").show(),$("#verificationCodeInputError").text(n)):($("#verificationCodeInputError").show(),$("#verificationCodeInputError").text("You are not authorized to perform this action!"))}catch(e){$("#verificationCodeInputError").show(),$("#verificationCodeInputError").text("You are not authorized to perform this action!")}}))}))}$("#updateEmailRequestButton").on("click",(function(){$("#updateEmailRequestButton").attr("disabled",!0),$("#updateEmailErrorMessage").hide();var e=new FormData,t={url:"/user/profile/security/email/change/request?email="+$("#email").val().trim(),method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:e};$.ajax(t).done((function(e){try{let t=JSON.parse(e),n=t.responseStatus,o=t.response;"OTP_REQUIRED_AND_SENT"==n?b("email"):($("#updateEmailErrorMessage").show(),$("#updateEmailErrorMessage").text(o))}catch(e){$("#updateEmailErrorMessage").show(),$("#updateEmailErrorMessage").text("You are not allowed to make this request!")}$("#updateEmailRequestButton").attr("disabled",!1)})).fail((function(){$("#updateEmailErrorMessage").show(),$("#updateEmailErrorMessage").text("You are not allowed to make this request!"),$("#updateEmailRequestButton").attr("disabled",!1)}))})),$("#savePasswordButton").on("click",(function(){$("#passwordError").hide(),$("#savePasswordButton").attr("disabled",!0);let t=$("#currentpassword").val(),n=$("#newpassword").val();var o={url:"/user/profile/security/password/change?currentPassword="+t+"&newPassword="+n+"&confirmPassword="+$("#confirmpassword").val()+"&strength="+e(n),method:"POST",timeout:0};$.ajax(o).done((function(e){try{let t=e.responseStatus,n=e.response;"SUCCESS"==t?$("#passwordError").text("Password has been updated!"):$("#passwordError").text(n),$("#passwordError").show(),$("#savePasswordButton").attr("disabled",!1)}catch(e){$("#passwordError").show(),$("#passwordError").text("You are not allowed to make this request!"),$("#savePasswordButton").attr("disabled",!1)}})).fail((function(){$("#passwordError").show(),$("#passwordError").text("You are not allowed to make this request!"),$("#savePasswordButton").attr("disabled",!1)}))})),$("#updatePhoneNumberButton").on("click",(function(){$("#updatePhoneNumberButton").attr("disabled",!0),$("#updatePhoneNumberErrorMessage").hide();var e=new FormData,t={url:"/user/profile/security/phone/change/request?phoneNumber="+$("#phone").val().trim(),method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:e};$.ajax(t).done((function(e){try{let t=JSON.parse(e),n=t.responseStatus,o=t.response;"OTP_REQUIRED_AND_SENT"==n?b("phone"):($("#updatePhoneNumberErrorMessage").show(),$("#updatePhoneNumberErrorMessage").text(o))}catch(e){$("#updatePhoneNumberErrorMessage").show(),$("#updatePhoneNumberErrorMessage").text("You are not allowed to make this request!")}$("#updatePhoneNumberButton").attr("disabled",!1)})).fail((function(){$("#updatePhoneNumberErrorMessage").show(),$("#updatePhoneNumberErrorMessage").text("You are not allowed to make this request!"),$("#updatePhoneNumberButton").attr("disabled",!1)}))}))}if($("#social_profiles_page_id").length){let z=document.getElementById("editor");setInterval((function(){z.querySelector(".ql-editor").innerHTML.length>13e3?$("#social_profile_page_editor_error").show():$("#social_profile_page_editor_error").hide();let e=document.getElementById("userSkills").value.length<1?null:JSON.parse(document.getElementById("userSkills").value),t="";if(null!=e)for(let n=0;n<e.length;n++)t+=n<1?e[n].value:", "+e[n].value;t.length>254?$("#social_profile_page_tagify_error").show():$("#social_profile_page_tagify_error").hide(),$("#social_profile_page_tagify_error").is(":visible")||$("#social_profile_page_editor_error").is(":visible")?u("social_profiles_page_submit_button",!1):u("social_profiles_page_submit_button",!0)}),500),$("#social_profiles_page_submit_button").on("click",(function(){$("#social_profiles_page_alert_div").hide();let e=document.getElementById("userSkills").value.length<1?null:JSON.parse(document.getElementById("userSkills").value),t="";if(null!=e)for(let n=0;n<e.length;n++)t+=n<1?e[n].value:","+e[n].value;let n=z.querySelector(".ql-editor").innerHTML,o=document.getElementById("twitterURL").value,i=document.getElementById("facebookURL").value,a=document.getElementById("githubURL").value,l=document.getElementById("instagramURL").value,r=document.getElementById("linkedInURL").value,s=document.getElementById("youtubeURL").value;var d=new FormData;d.append("twitterURL",o),d.append("facebookURL",i),d.append("githubURL",a),d.append("instagramURL",l),d.append("linkedinURL",r),d.append("youtubeURL",s),d.append("skills",t),d.append("aboutUser",n);var c={url:"/stoody/api/v1/user/social/profiles/update",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:d};$.ajax(c).done((function(e){console.log(e),"SUCCESS"==JSON.parse(e).responseStatus?location.reload():$("#social_profiles_page_alert_div").show()})).fail((function(){$("#social_profiles_page_alert_div").show()}))}))}$("#preview_user_page_follow_button").length&&$("#preview_user_page_follow_button").on("click",(function(){$("#preview_user_page_follow_button").attr("disabled",!0);let e=new FormData,t=$(this).attr("data-username-string"),n=$(this).attr("data-preview-username-string");e.append("userFrom",t),e.append("userTo",n);let o={url:"/stoody/api/v1/user/follow/add",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:e};$.ajax(o).done((function(e){console.log(e),"SUCCESS"==JSON.parse(e).responseStatus?location.reload():console.log("User could not be followed! (Reason is necessary!)"),$("#preview_user_page_follow_button").attr("disabled",!1)})).fail((function(){$("#preview_user_page_follow_button").attr("disabled",!1),console.log("Request is failed!")}))})),$("#preview_user_page_unfollow_button").length&&$("#preview_user_page_unfollow_button").on("click",(function(){$("#preview_user_page_unfollow_button").attr("disabled",!0);let e=new FormData,t=$(this).attr("data-username-string"),n=$(this).attr("data-preview-username-string");e.append("userFrom",t),e.append("userTo",n);let o={url:"/stoody/api/v1/user/follow/remove",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:e};$.ajax(o).done((function(e){console.log(e),"SUCCESS"==JSON.parse(e).responseStatus?location.reload():console.log("User could not be followed! (Reason is necessary!)"),$("#preview_user_page_unfollow_button").attr("disabled",!1)})).fail((function(){$("#preview_user_page_unfollow_button").attr("disabled",!1),console.log("Request is failed!")}))})),$("#preview_user_page_report_button").length&&$("#preview_user_page_report_button").on("click",(function(){const e=$("#reportReasonText").val();if(e.length<1)return void $("#reportAlertContainer").show();$("#preview_user_page_report_button").attr("disabled");let t=$(this).attr("data-username-string"),n=$(this).attr("data-preview-username-string");var o=new FormData;o.append("reportedBy",t),o.append("reportedUser",n),o.append("reportReason",e);var i={url:"/users/preview/report",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:o};$.ajax(i).done((function(e){console.log(e);let t=JSON.parse(e).response;$("#reportContainer").hide(),$("#reportAlertContainer").show(),$("#reportAlertContainer").text(t)})).fail((function(){location.reload()}))}));for(let V=1;V<21;V++)if(0!==$("#user_profile_navbar_button_"+V+"_page").length){document.getElementById("user_profile_navbar_button_"+V).parentNode.classList.add("active");break}if($("#standard_navbar_code_a").length){function C(e){var t={url:"/user/status/setme"+e,method:"POST",timeout:0};$.ajax(t).done((function(e){"SUCCESS"==e.responseStatus?location.reload():console.log("setting user status failed")}))}$("#standard_navbar_user_status_online").on("click",(function(){C("online")})),$("#standard_navbar_mobile_version_user_status_online").on("click",(function(){C("online")})),$("#standard_navbar_user_status_offline").on("click",(function(){C("offline")})),$("#standard_navbar_mobile_version_user_status_offline").on("click",(function(){C("offline")})),$("#standard_navbar_user_status_away").on("click",(function(){C("away")})),$("#standard_navbar_mobile_version_user_status_away").on("click",(function(){C("away")})),$("#standard_navbar_user_status_busy").on("click",(function(){C("busy")})),$("#standard_navbar_mobile_version_user_status_busy").on("click",(function(){C("busy")}))}if($("#helpCenterGlobalSearchBarForm").length){let G=$("#helpCenterGlobalSearchBarForm");$("#helpCenterGlobalSearchBarButton").on("click",(function(){G.find("#helpCenterGlobalSearchBarInput").val().length<1||(window.location.href="/help/search/"+G.find("#helpCenterGlobalSearchBarInput").val())}))}if($("#helpCenterLandingSearchForm").length&&$("#helpCenterLandingSearchFormButton").on("click",(function(){window.location.href="/help/search/"+$("#helpCenterLandingSearchFormInput").val()})),$("#help_center_manage_content_page").length&&(console.log("AMK"),$("#pills-development-tab").on("click",(function(){$("#contentPreviewer").html("")})),$("#pills-design-tab").on("click",(function(){$("#content").val().length>0?$("#contentPreviewer").html($("#content").val()):$("#contentPreviewer").html('<div class="p-3">Your HTML Content Preview</div>')}))),$("#course_overview_admin_dashboard").length){let Q=20,H=Q,J=-12519;$(window).scroll((function(){$(document).height()-$(this).height()==$(this).scrollTop()&&$(this).scrollTop()!=J&&(J=$(this).scrollTop(),H+=Q,y(H))}));const Y=["courses_tab_tbody","approved_tab_tbody","pending_tab_tbody"];let W=Y[0];const K=["live","draft","deleted","pending"];let Z=0,X=K[0],ee="";let te=[];function w(){let e=$("#"+W);for(let e=0;e<Y.length;e++)$("#"+Y[e]).children().off(),$("#"+Y[e]).html("");if(courseOverviewDTOFiltered=te,W!=Y[0]){courseOverviewDTOFiltered=[];let e=W==Y[1]?"Live":"Pending";for(let t=0;t<te.length;t++){let n=te[t];n.status==e&&courseOverviewDTOFiltered.push(n)}}if(null!=ee&&""!=ee){let e=[];for(let t=0;t<courseOverviewDTOFiltered.length;t++){let n=courseOverviewDTOFiltered[t];naiveSearch(n.name,ee)&&e.push(n)}courseOverviewDTOFiltered=e}for(let t=0;t<courseOverviewDTOFiltered.length;t++){let n=courseOverviewDTOFiltered[t];$("<tr></tr>").append($("<td></td>").append($("<span></span>").text(t+1)),$("<td></td>").append($("<a></a>").attr("href","#").addClass("text-inherit").append($("<div></div>").addClass("d-lg-flex align-items-center").append(null==n.courseThumbnail||""==n.courseThumbnail?$("<div></div>").append($("<i></i>").addClass("bi-card-image fs-1 text-muted")):$("<img/>").addClass("img-4by3-lg rounded").attr("src",n.courseThumbnail).attr("width","50"),$("<a></a>").addClass("ms-lg-3 mt-2 mt-lg-0").append($("<span></span>").addClass("mb-1 me-2 text-link").text(n.name),$("<br>"),$("<span></span>").append($("<i></i>").addClass("mdi mdi-clock-time-four-outline text-muted me-1"),$("<span></span>").addClass("text-muted").text(n.createdAt))).attr("href","/stoody/api/v1/course/stoody/course/"+n.id+"/editor")))),$("<td></td>").append($("<div></div>").addClass("d-flex align-items-center").append($("<a></a>").attr("href","/users/"+n.authorUsername).addClass("text-link mb-0").text(n.authorUsername))),$("<td></td>").append($("<div></div>").append($("<span></span>").addClass(("Draft"==n.status?"bg-warning":"Pending"==n.status?"bg-info":"Live"==n.status?"bg-primary":"bg-danger")+" badge-dot me-1 d-inline-block align-middle me-2"),$("<span></span>").text(n.status))),"Draft"==n.status?$("<td></td>").append($("<span></span>").addClass("text-muted").text("No action")):"Pending"==n.status?$("<td></td>").append($("<a></a>").addClass("btn btn-warning btn-sm me-1 pendingCourseRejectButton").attr("id","pendingCourseRejectButton"+n.id).text("Reject"),$("<a></a>").addClass("btn btn-success btn-sm pendingCourseApproveFeedbackButton").attr("id","pendingCourseApproveFeedbackButton"+n.id).text("Approve")):"Live"==n.status?$("<td></td>").append($("<a></a>").addClass("btn btn-warning btn-sm me-1 pendingCourseRejectButton").attr("id","pendingCourseRejectButton"+n.id).text("Draft"),$("<a></a>").addClass("btn btn-danger btn-sm liveCourseDeletedFeedbackButton").attr("id","liveCourseDeletedFeedbackButton"+n.id).text("Deleted")):$("<td></td>").append($("<a></a>").addClass("btn btn-warning btn-sm me-1 pendingCourseRejectButton").attr("id","pendingCourseRejectButton"+n.id).text("Draft"),$("<a></a>").addClass("btn btn-success btn-sm pendingCourseApproveFeedbackButton").attr("id","pendingCourseApproveFeedbackButton"+n.id).text("Live")),"Draft"==n.status||"Deleted"==n.status||"Live"==n.status?$("<td></td>").append($("<span></span>").addClass("text-muted").text("No action")):$("<td></td>").append($("<a></a>").attr("href","#").addClass("text-link pendingCourseRejectFeedbackButton").attr("id","pendingCourseRejectFeedbackButton"+n.id).text("Reject with Feedback"))).appendTo(e)}$(".pendingCourseRejectButton").each((function(e,t){$(this).on("click",(function(){const e=$(this).attr("id").replace("pendingCourseRejectButton","");var t=new FormData;t.append("id",e);var n={url:"/stoody/api/v1/course/stoody/authorized/course/draft",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:t};$.ajax(n).done((function(e){console.log(e),y(H)}))}))})),$(".pendingCourseApproveFeedbackButton").each((function(e,t){$(this).on("click",(function(){X=K[0],Z=$(this).attr("id").replace("pendingCourseApproveFeedbackButton",""),$("#feedbackModal").modal("show")}))})),$(".pendingCourseRejectFeedbackButton").each((function(e,t){$(this).on("click",(function(){X=K[1],Z=$(this).attr("id").replace("pendingCourseRejectFeedbackButton",""),$("#feedbackModal").modal("show")}))})),$(".liveCourseDeletedFeedbackButton").each((function(e,t){$(this).on("click",(function(){X=K[2],Z=$(this).attr("id").replace("liveCourseDeletedFeedbackButton",""),$("#feedbackModal").modal("show")}))}))}function y(e){var t={url:"/stoody/api/v1/course/stoody/authorized/course/all/overview?limit="+e,method:"GET",timeout:0};$.ajax(t).done((function(e){try{te=e,w()}catch(e){te=[],w()}}))}$("#courses-tab").on("click",(function(){W=Y[0],y(H)})),$("#approved-tab").on("click",(function(){W=Y[1],y(H)})),$("#pending-tab").on("click",(function(){W=Y[2],y(H)})),$("#searchBarId").on("input",(function(){ee=$(this).val(),w()})),$("#sendFeedbackButton").on("click",(function(){if($("#feedbackTextArea").val().length<1)return;let e=X==K[0]?"/live":X==K[1]?"/draft/feedback":"/delete";var t=new FormData;t.append("id",Z),t.append("message",$("#feedbackTextArea").val());var n={url:"/stoody/api/v1/course/stoody/authorized/course"+e,method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:t};$.ajax(n).done((function(e){y(H),console.log(e)})),setTimeout((function(){$("#sendFeedbackButton").modal("hide")}),500)})),$("#refreshTableButton").on("click",(function(){y(H)})),y(H)}if($("#internationalization_page_id").length&&$("#locale").on("input",(function(){$("#localeFlag").removeClass();let e="en"==$("#locale").val()?"us":$("#locale").val();$("#localeFlag").addClass("fi fi-"+e)})),$("#course_configuration_page").length){const ne=["Loading","CourseForm","UploadForm"],oe=["Video","Article","Quiz","Description"],ie={SectionTitleInput:0,SectionRemoveClick:1,LectureTitleInput:2,LectureRemoveClick:3,LectureVideoAddClick:4,LectureArticleAddClick:5,LectureQuizAddClick:6,LectureDescriptionAddClick:7,LectureArticleLockClick:8,LectureArticleDescriptionInput:9,LectureArticleRemoveClick:10,LectureHidden:11,LectureShown:12,LectureAddClick:13},ae=$("#loadingForm"),le=$("#courseForm"),re=$("#courseFormHeader"),se=$("#uploadForm"),de=$("#courseUploadProgressBarBottomText"),ce=$("#course_configuration_page");let ue=$("#course_thumbnail_input_file"),pe=$("#course_thumbnail_input_remove"),me=$("#course_promo_video_input_file"),fe=$("#course_promo_video_input_name"),he=$("#course_promo_video_input_remove"),ge=$("#course_configuration_page_add_section_button");const _e=$("#courseSectionEmptyMessage");let $e=$("#uploadStartButton"),ve=$("#submitCourseButton"),be=getBlankCourse();function x(e,t,n){try{const o=n.section,i=n.lecture;t==ie.SectionTitleInput?be.sections[o].title=e.val():t==ie.SectionRemoveClick?(be.sections.splice(o,1),L()):t==ie.LectureRemoveClick?(be.sections[o].lectures.splice(i,1),L()):t==ie.LectureArticleLockClick?be.sections[o].lectures[i].locked=e.prop("checked"):t==ie.LectureArticleDescriptionInput?(be.sections[o].lectures[i].description=e.val(),be.sections[o].lectures[i].userFile=null,be.sections[o].lectures[i].video=null,be.sections[o].lectures[i].quiz=null):t==ie.LectureArticleRemoveClick?(be.sections[o].lectures[i].description=null,be.sections[o].lectures[i].userFile=null,be.sections[o].lectures[i].video=null,be.sections[o].lectures[i].quiz=null,L()):t==ie.LectureVideoAddClick?($("#65535FIVS").length&&$("#65535FIVS").remove(),$("<input>").attr({type:"file",id:"65535FIVS",style:"display:none"}).appendTo("body").on("change",(function(){const e=this.files[0];if(e){if(e.size>=1e9)return void alert("Warning: You cannot select a file larger than 1GB in size!");if(!e.name.endsWith(".mp4"))return void alert("Warning: Only MP4 files can be selected!");const t=document.createElement("video");t.src=URL.createObjectURL(e),t.addEventListener("error",(e=>{alert("Error: The selected file is not a playable MP4 file.")})),t.addEventListener("canplay",(n=>{be.sections[o].lectures[i].userFile=null,be.sections[o].lectures[i].video={};let a=new FormData;a.append("file",e),be.sections[o].lectures[i].video.name=a.get("file").name,be.sections[o].lectures[i].video.url=a,be.sections[o].lectures[i].video.videoDuration=t.duration,be.sections[o].lectures[i].description=null,be.sections[o].lectures[i].quiz=null,L()}))}})),$("#65535FIVS").trigger("click")):t==ie.LectureArticleAddClick?($("#65535FIVS").length&&$("#65535FIVS").remove(),$("<input>").attr({type:"file",id:"65535FIVS",style:"display:none"}).appendTo("body").on("change",(function(){const e=this.files[0];if(e){if(e.size>=1e9)return void alert("Warning: You cannot select a file larger than 1GB in size!");if(e.name.endsWith(".mp4"))return void alert("Warning: MP4 files cannot be selected!");be.sections[o].lectures[i].userFile={};let t=new FormData;t.append("file",e),be.sections[o].lectures[i].userFile.name=t.get("file").name,be.sections[o].lectures[i].userFile.url=t,be.sections[o].lectures[i].video=null,be.sections[o].lectures[i].description=null,be.sections[o].lectures[i].quiz=null,L()}})),$("#65535FIVS").trigger("click")):t==ie.LectureQuizAddClick?function(e){let t=!1;$("#quizModal").modal("show");let n=$("#quizModalContents");function o(e){n.html("");let o=null==e;try{o=e.length<1}catch{o=!0}function i(){n.append($("<div></div>").addClass("d-flex").css("flex-direction","column").append($("<span></span>").addClass("mb-3").text("You don't have any quiz to show."),$("<a></a>").addClass("btn btn-primary").text("Create new quiz")))}if(o)i();else{let t=0,o=$("<div></div>").css("overflow-y","auto").css("max-height","400px").addClass("table-responsive w-100"),a=$("<table></table>").addClass("table table-centered"),l=$("<tbody></tbody>");for(let n=0;n<e.length;n++){try{if(e[n].questions.length<1)continue}catch(e){continue}let o=0;for(let t=0;t<e[n].questions.length;t++)o+=e[n].questions[t].timeoutInSeconds;let i=formattedTimeSince(o),a=$("<tr></tr>").html(`\n                        <td>\n                            <div class="d-flex align-items-center">\n                                \x3c!-- quiz img --\x3e\n                                <a href="#"> <img src="${e[n].thumbnailUrl}" class="rounded img-4by3-lg"></a>\n                                \x3c!-- quiz content --\x3e\n                                <div class="ms-3">\n                                    <h4 class="mb-2 text-inherit">\n                                    ${n+1}. ${e[n].name}\n                                    </h4>\n\n                                    <div>\n                                        <span class="fs-6 me-1">\n                                            <span class="align-middle">\n                                                <i class="fe fe-list"></i>\n                                            </span>\n                                            ${e[n].questions.length} Questions\n                                        </span>\n                                        <span class="fs-6 me-1">\n                                            <span class="align-middle">\n                                                <i class="fe fe-clock"></i>\n                                            </span>\n                                            ${i}\n                                        </span>\n                                        <a class="btn btn-primary btn-sm ms-1">Select</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </td>\n                        `);l.append(a),t++}t>0?(a.append(l),o.append(a),n.append(o)):i()}t=!0}n.html(""),n.append($("<div></div>").addClass("spinner-border text-primary").css("width","4rem").css("height","4rem").attr("role","status"));var i={url:"http://localhost:8080/stoody/api/v1/quizzes/all/current/user",method:"GET",timeout:0};$.ajax(i).done((function(e){o(e)})).fail((function(){o(null)})),$("#quizModal").on("hide.bs.modal",(function(e){t||e.preventDefault()}))}():t==ie.LectureDescriptionAddClick?(be.sections[o].lectures[i].userFile=null,be.sections[o].lectures[i].video=null,be.sections[o].lectures[i].description="",be.sections[o].lectures[i].quiz=null,L()):t==ie.LectureAddClick?function(e){if(be.sections[e].lectures.length>20)return void alert("You cannot add more than 20 lectures!");let t=getBlankLecture();t.title="Blank Lecture",be.sections[e].lectures.push(t),L()}(o):t==ie.LectureShown?be.sections[o].lectures[i].uiCollapsed=!1:t==ie.LectureHidden&&(be.sections[o].lectures[i].uiCollapsed=!0)}catch(e){console.log("A critical event error happened! Reason: "+e)}}function k(e,t,n,o,i,a){o?(e.hide(),t.show(),t.text(i),n.show(),n.off()):(t.hide(),n.hide(),n.hide(),e.show(),e.val("")),a instanceof Function&&a()}function S(e){e==ne[0]?(ae.show(),le.hide(),re.hide(),se.hide(),de.hide()):e==ne[1]?(ae.hide(),le.show(),re.show(),se.hide(),de.hide()):(ae.hide(),le.hide(),re.hide(),se.show(),de.show())}function T(e){try{return null!=e.video&&e.video.videoDuration>0?(e.userFile=null,e.quiz=null,e.description=null,oe[0]):null!=e.userFile&&null!=e.userFile.name&&e.userFile.name.length>0?(e.video=null,e.quiz=null,e.description=null,oe[1]):null!=e.quiz&&null!=e.quiz.questions&&e.quiz.questions.length>0?(e.video=null,e.userFile=null,e.description=null,oe[2]):null!=e.description?(e.video=null,e.userFile=null,e.quiz=null,oe[3]):null}catch(e){return null}}function B(e){try{return null!=e.video&&e.video.videoDuration>0?(e.userFile=null,e.quiz=null,e.description=null,e.video.name):null!=e.userFile&&null!=e.userFile.name&&e.userFile.name.length>0?(e.video=null,e.quiz=null,e.description=null,e.userFile.name):null!=e.quiz&&null!=e.quiz.questions&&e.quiz.questions.length>0?(e.video=null,e.userFile=null,e.description=null,e.quiz.name):null!=e.description?(e.video=null,e.userFile=null,e.quiz=null,"Description"):null}catch(e){return null}}function E(e){var t=e.match(/section_(\d+)_lecture/)[1],n=e.match(/_lecture_(\d+)/)[1];let o={section:65535,lecture:65535};return o.section=t,o.lecture=n,o}function L(){let e=$("#courseSectionContents");e.children().off(),e.html("");try{be.sections.length}catch{be.sections=[]}0==be.sections.length?_e.show():_e.hide();for(let t=0;t<be.sections.length;t++){let n=$("<div></div>").addClass("bg-light rounded p-2 mb-4");n.attr("id","sectionElement_"+t);let o=$("<div></div>").addClass("d-flex border-bottom mb-3 align-items-center"),i=$("<input>").addClass("form-control sectionTitleInput").attr("id","sectionTitleInput__section_"+t+"_lecture_65535").attr("type","text").attr("maxlength","254").val(be.sections[t].title);o.append($("<i></i>").addClass("bi-diagram-3 text-muted ms-2 me-2"),$("<span></span>").addClass("text-muted me-2").text(t+1+"."),$("<div></div>").addClass("w-25 py-1").append(i),$("<a></a>").addClass("ms-2 me-1 text-danger").attr("role","button").append($("<i></i>").addClass("fe fe-trash-2 fs-6 sectionRemoveButton").attr("id","sectionRemoveButton__section_"+t+"_lecture_65535")));const a=be.sections[t].lectures.length<1;let l=$("<div></div>");if(a)l.append($("<div></div>").addClass("row mt-3").append($("<div></div>").addClass("col-12 display-2 d-flex justify-content-center align-items-center").append($("<i></i>").addClass("bi-collection")),$("<div></div>").addClass("col-12 text-muted mt-3 d-flex justify-content-center align-items-center").text("Add articles such as videos and files with a description.")));else{let e=$("<div></div>").addClass("list-group list-group-flush border-top-0").attr("id","lectureWrapper_s_"+t);try{be.sections[t].lectures.length}catch{be.sections[t].lectures=[]}for(let n=0;n<be.sections[t].lectures.length;n++){let o=be.sections[t].lectures[n],i=$("<div></div>").addClass("list-group-item rounded px-3 mb-1 bg-gray-300").attr("id","lectureListElement_s"+t+"_l_"+n),a=$("<div></div>").addClass("d-flex align-items-center justify-content-between");a.append($("<div></div>").addClass("d-flex align-items-center").append($("<span></span>").addClass("text-muted me-2").text(n+1+"."),$("<i></i>").addClass("bi-collection text-muted me-3"),$("<input>").addClass("form-control lectureTitleInput").attr("id","lectureTitleInput__section_"+t+"_lecture_"+n).attr("type","text").attr("maxlength","254").val(o.title)),$("<div></div>").append($("<a></a>").addClass("ms-2 me-1 text-danger").attr("role","button").append($("<i></i>").addClass("fe fe-trash-2 fs-6 lectureRemoveButton").attr("id","lectureRemoveButton__section_"+t+"_lecture_"+n)),$("<a></a>").attr("role","button").addClass("text-inherit "+(o.uiCollapsed?"collapsed":"")).attr("aria-expanded",o.uiCollapsed?"false":"true").attr("data-bs-toggle","collapse").attr("data-bs-target","#lectureCollapseList__section_"+t+"_lecture_"+n).attr("aria-controls","lectureCollapseList__section_"+t+"_lecture_"+n).append($("<span></span>").addClass("chevron-arrow").append($("<i></i>").addClass("fe fe-chevron-down")))));let l=$("<div></div>").addClass("collapse "+(o.uiCollapsed?"":"show")+" lectureCollapseList").attr("id","lectureCollapseList__section_"+t+"_lecture_"+n).attr("aria-labelledby","lectureListElement_s"+t+"_l_"+n).attr("data-bs-parent","lectureWrapper_s_"+t);const r=T(o);if(null!=r&&""!=r){let e=$("<div></div>").addClass("mt-3 px-5 py-3 bg-dark-info-soft rounded-2");e.append($("<h4></h4>").addClass("user-select-none").text(r),$("<div></div>").addClass("form-check form-switch").append($("<input>").addClass("form-check-input lockedArticleSwitch").attr("id","lockedArticleSwitch__section_"+t+"_lecture_"+n).attr("type","checkbox").attr("role","switch").prop("checked",o.locked),$("<label></label>").addClass("form-check-label").text("Locked")),$("<div></div>").addClass("d-flex border-bottom mb-3 mt-3").append(r==oe[3]?$("<textarea></textarea>").addClass("form-control border-0 form-control-simple no-resize lectureArticleDescription").attr("id","lectureArticleDescription__section_"+t+"_lecture_"+n).attr("rows","3").attr("placeholder","Write a description").val(o.description):$("<h4></h4>").addClass("ms-2 text-muted").text(B(o)),$("<a></a>").attr("role","button").addClass("ms-2 me-1 text-danger").append($("<i></i>").addClass("fe fe-trash-2 fs-6 lectureArticleRemoveButton").attr("id","lectureArticleRemoveButton__section_"+t+"_lecture_"+n)))),l.append(e)}else{let e=$("<div></div>").addClass("my-2 mt-3");e.append($("<a></a>").attr("role","button").addClass("btn btn-secondary btn-sm mt-1 ms-1 lectureAddVideoButton").attr("id","lectureAddVideoButton_section_"+t+"_lecture_"+n).text("Add Video +"),$("<a></a>").attr("role","button").addClass("btn btn-secondary btn-sm mt-1 ms-1 lectureAddArticleButton").attr("id","lectureAddArticleButton_section_"+t+"_lecture_"+n).text("Add Article +"),$("<a></a>").attr("role","button").addClass("btn btn-secondary btn-sm mt-1 ms-1 lectureAddQuizButton").attr("id","lectureAddQuizButton_section_"+t+"_lecture_"+n).text("Add Quiz +"),$("<a></a>").attr("role","button").addClass("btn btn-secondary btn-sm mt-1 ms-1 lectureAddDescriptionButton").attr("id","lectureAddDescriptionButton_section_"+t+"_lecture_"+n).text("Add Description +")),l.append(e)}i.append(a,l),e.append(i)}l.append(e)}let r=$("<a></a>").addClass("btn btn-outline-primary btn-sm mt-3 addLectureButton").attr("id","addLectureButton__section_"+t+"_lecture_65535").attr("role","button").text("Add Lecture +");l.append(r),n.append(o,l),e.append(n)}$(".sectionTitleInput").on("input",(function(e){const t=E($(e.target).attr("id").replace("sectionTitleInput_",""));x($(e.target),ie.SectionTitleInput,t)})),$(".sectionRemoveButton").on("click",(function(e){const t=E($(e.target).attr("id").replace("sectionRemoveButton_",""));x($(e.target),ie.SectionRemoveClick,t)})),$(".lectureTitleInput").on("input",(function(e){const t=E($(e.target).attr("id").replace("lectureTitleInput_",""));x($(e.target),ie.LectureTitleInput,t)})),$(".lectureRemoveButton").on("click",(function(e){const t=E($(e.target).attr("id").replace("lectureRemoveButton_",""));x($(e.target),ie.LectureRemoveClick,t)})),$(".lectureCollapseList").on("hidden.bs.collapse",(function(e){const t=E($(e.target).attr("id").replace("lectureCollapseList_",""));x($(e.target),ie.LectureHidden,t)})),$(".lectureCollapseList").on("shown.bs.collapse",(function(e){const t=E($(e.target).attr("id").replace("lectureCollapseList_",""));x($(e.target),ie.LectureShown,t)})),$(".lockedArticleSwitch").on("click",(function(e){const t=E($(e.target).attr("id").replace("lockedArticleSwitch_",""));x($(e.target),ie.LectureArticleLockClick,t)})),$(".lectureArticleDescription").on("input",(function(e){const t=E($(e.target).attr("id").replace("lectureArticleDescription_",""));x($(e.target),ie.LectureArticleDescriptionInput,t)})),$(".lectureArticleRemoveButton").on("click",(function(e){const t=E($(e.target).attr("id").replace("lectureArticleRemoveButton_",""));x($(e.target),ie.LectureArticleRemoveClick,t)})),$(".addLectureButton").on("click",(function(e){const t=E($(e.target).attr("id").replace("addLectureButton_",""));x($(e.target),ie.LectureAddClick,t)})),$(".lectureAddVideoButton").on("click",(function(e){const t=E($(e.target).attr("id").replace("lectureAddVideoButton_",""));x($(e.target),ie.LectureVideoAddClick,t)})),$(".lectureAddArticleButton").on("click",(function(e){const t=E($(e.target).attr("id").replace("lectureAddArticleButton_",""));x($(e.target),ie.LectureArticleAddClick,t)})),$(".lectureAddQuizButton").on("click",(function(e){const t=E($(e.target).attr("id").replace("lectureAddQuizButton_",""));x($(e.target),ie.LectureQuizAddClick,t)})),$(".lectureAddDescriptionButton").on("click",(function(e){const t=E($(e.target).attr("id").replace("lectureAddDescriptionButton_",""));x($(e.target),ie.LectureDescriptionAddClick,t)}))}function F(){if(null!=be.title&&$("#courseTitle").val(be.title),null!=be.contextTags){setTimeout((function(){$("#courseContextTags").val(be.contextTags),console.log(be.contextTags)}),500)}if(null!=be.description&&""!=be.description){document.getElementById("editor").querySelector(".ql-editor").innerHTML=be.description}if(null!=be.thumbnail&&null!=be.thumbnail.name&&be.thumbnail.name.length>0&&A(),null!=be.promoVideo&&null!=be.promoVideo.name&&be.promoVideo.name.length>0&&D(),null!=be.courseCategoryId&&$("#courseCategory").val(be.courseCategoryId.toString()),null!=be.level&&$("#courseLevel").val(CourseLevelEnum[be.level]),null!=be.price&&$("#coursePriceInput").val(be.price),null!=be.discount&&$("#coursePriceDiscountInput").val(be.discount),null!=be.welcomeMessage&&$("#welcomeMessageInput").val(be.welcomeMessage),null!=be.congratulationsMessage&&$("#congratulationMessage").val(be.congratulationsMessage),null!=be.tags){setTimeout((function(){$("#courseTagsInput").val(be.tags),console.log(be.tags)}),500)}$(".selectpicker").selectpicker("render"),L()}function A(){k(ue,$("#course_thumbnail_input_name"),pe,!0,be.thumbnail.name,null),pe.on("click",(function(){k(ue,$("#course_thumbnail_input_name"),pe,!1,be.thumbnail.name,(function(){be.thumbnail=getBlankUserFile(),be.thumbnail.name=null,be.thumbnail.url=null}))}))}function D(){k(me,fe,he,!0,be.promoVideo.name,null),he.on("click",(function(){k(me,fe,he,!1,be.promoVideo.name,(function(){be.promoVideo=null}))}))}function I(e){$("#uploadFormProgressBar"),$("#uploadLogger");function t(e){e?($("#uploadFormReloadPageButtonSpinner").hide(),$("#uploadFormReloadPageButton").on("click",(function(){location.reload()}))):$("#uploadFormReloadPageButton").off()}function n(e){e?$("#uploadFormNextButton").on("click",(function(){window.location.href="/"})):$("#uploadFormNextButton").off()}!function(){be.title=$("#courseTitle").val(),be.title.length<1&&(be.title="Untitled");let e=$("#courseTagsInput").val().length<1?null:JSON.parse($("#courseTagsInput").val()),t="";if(null!=e)for(let n=0;n<e.length;n++)t+=n<1?e[n].value:","+e[n].value;be.tags=t;let n=document.getElementById("courseContextTags").value.length<1?null:JSON.parse(document.getElementById("courseContextTags").value),o="";if(null!=n)for(let e=0;e<n.length;e++)o+=e<1?n[e].value:","+n[e].value;be.contextTags=o,be.courseCategoryId=$("#courseCategory").val(),(null==be.courseCategoryId||null==be.courseCategoryId||be.courseCategoryId<0)&&(be.courseCategoryId=1),be.level=$("#courseLevel").val(),(null==be.level||null==be.level||be.level<0)&&(be.level=0),console.log("ONCE UPDATE STATIC COURSE FIELDS THE COURSE LEVEL IS: "+be.level);let i=document.getElementById("editor").querySelector(".ql-editor").innerHTML;be.description=i,be.price=$("#coursePriceInput").val(),null!=be.price&&null!=be.price||(be.price=0),be.discount=$("#coursePriceDiscountInput").val(),null!=be.discount&&null!=be.discount||(be.discount=0),be.welcomeMessage=$("#welcomeMessageInput").val(),be.congratulationsMessage=$("#congratulationMessage").val()}(),console.log(be),$("#uploadFormReloadPageButton").hide(),0==submit&&$("#uploadFormReloadPageButton").show(),t(!1),n(!1),$("#uploadModal").modal("hide"),$("#submitModal").modal("hide"),$("#uploadFormCourseTitle").text(be.title)}ge.on("click",(function(){if(be.sections.length>=20)return void alert("You cannot add more than 20 sections!");let e=getBlankSection();e.title="Blank Section",be.sections.push(e),L()})),ue.on("change",(function(){if(ue[0].files[0].size/1048576>2)return alert("The file cannot be larger than 2 MB!"),void ue.val("");let e=new FormData;e.append("file",ue[0].files[0]),be.thumbnail=getBlankUserFile(),be.thumbnail.name=ue[0].files[0].name,be.thumbnail.url=e,A()})),me.on("change",(function(){if(Math.round(me[0].files[0].size/1024)>=1048576)return alert("File size cannot be bigger than 1 GB!"),void me.val("");let e=new FormData;e.append("file",me[0].files[0]),be.promoVideo=getBlankVideo(),be.promoVideo.name=me[0].files[0].name,be.promoVideo.url=e,D()})),$e.on("click",(function(){I()})),ve.on("click",(function(){I()})),setTimeout((function(){try{if(ce.attr("data-course-id","1"),isNaN(ce.attr("data-course-id"))||(be.id=ce.attr("data-course-id")),be.id>0){let e={url:`http://localhost:8080/stoody/courses/pending/get/${be.id}`,method:"GET",timeout:0};$.ajax(e).done((function(e){console.log(e);try{if(be=e.response,"SUCCESS"!=e.responseStatus)throw"Creating a new course interface";isNaN(ce.attr("data-course-id"))||(be.id=ce.attr("data-course-id")),S(ne[1]),F(),console.warn("Course Editor mode is on, editing a course..."),console.log(e.response),console.log(e.responseStatus)}catch(e){S(ne[1]),be=getBlankCourse(),F(),console.warn(e)}})).fail((function(){S(ne[1]),be=getBlankCourse(),F()}))}else S(ne[1])}catch(e){S(ne[1]),be=getBlankCourse(),F(),console.log(e)}}),1e3)}if($("#course_single_page").length){let Ce=$("#loadingForm"),we=$("#courseSingleForm"),ye=getBlankCourse();function R(e,t){($("#displayItemModal").modal("show"),e)?($("#displayItemModalPlayableContent").show(),$("#displayItemModalUnplayableContent").hide(),$("#displayItemModalVideoDownloadButton").attr("href",t),videojs(document.querySelector("#displayItemModalVideo")).src({src:t,type:"video/mp4"})):($("#displayItemModalPlayableContent").hide(),$("#displayItemModalUnplayableContent").show(),$("#displayItemModalFileDownloadButton").attr("href",t))}!function(){try{var e={url:"http://localhost:8080/stoody/api/v1/course/findCourseRestricted/"+1,method:"GET",timeout:0};$.ajax(e).done((function(e){ye=e.response,setTimeout((function(){Ce.hide(),we.fadeIn(),async function(){$("#courseSingleTitle").text(ye.title),CourseLevelEnum[ye.level]>0&&$("#courseSingleLevel1").attr("fill","#754FFE"),CourseLevelEnum[ye.level]>1&&$("#courseSingleLevel2").attr("fill","#754FFE"),CourseLevelEnum[ye.level]>2&&$("#courseSingleLevel3").attr("fill","#754FFE"),$("#courseSingleLevel").text(ye.level);let e=isNaN(ye.price)||ye.price<=0||100==ye.discount,t=isNaN(ye.discount)||ye.discount<=0,n=e?"Free":t?"$"+ye.price:"$"+(ye.price-ye.discount/100*ye.price),o=t?"":"$"+ye.price;$("#courseSinglePrice").text(n),$("#courseSingleDiscount").text(o);let i=[],a=[],l=[],r=$("#courseSingleContents");if(null!=ye.sections&&ye.sections.length>0){for(let e=0;e<ye.sections.length;e++){let t=$("<li></li>").addClass("list-group-item px-0"+(0==e?" pt-0":""));if(null!=ye.sections[e].lectures&&ye.sections[e].lectures.length>0){let n=$("<div></div>").addClass("pt-3 pb-2");for(let t=0;t<ye.sections[e].lectures.length;t++){let o=ye.sections[e].lectures[t],r=!1;null!=o.article&&"mp4"==get_url_extension(o.article)?(r=!0,i["lectureDurationItemSection"+e+"_lecture"+t]=o.article,o.locked||(a["contentSection"+e+"_lecture"+t]=o.article)):o.locked||(l["unplayableContentSection"+e+"_lecture"+t]=o.article),n.append($("<a></a>").addClass("mb-2 d-flex justify-content-between align-items-center text-inherit text-decoration-none "+(o.locked?"disableClick":"")).append($("<div></div>").addClass("text-truncate").append($("<span></span>").addClass("icon-shape bg-light icon-sm rounded-circle me-2 "+(o.locked?"text-secondary":"")).append($("<i></i>").addClass(o.locked?"fe fe-lock":r?"mdi mdi-play":getIconByExtension(get_url_extension(o.article)))),$("<span></span>").text(o.title)),$("<div></div>").addClass("text-truncate").append($("<span></span>").attr("id","lectureDurationItemSection"+e+"_lecture"+t))).attr("href","#").attr("id",(r?"contentSection":"unplayableContentSection")+e+"_lecture"+t))}t.append($("<a></a>").addClass("h4 mb-0 d-flex align-items-center text-inherit text-decoration-none active").attr("data-bs-toggle","collapse").attr("href","#rowCollapseSection"+e).attr("aria-expanded","false").attr("aria-controls","rowCollapseSection"+e).append($("<div></div>").addClass("me-auto").append($("<span></span>").text(ye.sections[e].title),$("<span></span>").addClass("ms-2 text-muted fs-5").text("("+ye.sections[e].lectures.length+" Lectures)")),$("<span></span>").addClass("chevron-arrow ms-4").append($("<i></i>").addClass("fe fe-chevron-down fs-4"))),$("<div></div>").addClass("collapse").attr("id","rowCollapseSection"+e).attr("data-bs-parent","#courseAccordion").append(n))}r.append(t)}for(const[e,t]of Object.entries(a))$("#"+e).on("click",(function(){R(!0,t)}));for(const[e,t]of Object.entries(l))$("#"+e).on("click",(function(){R(!1,t)}));!async function(){for(const[e,t]of Object.entries(i)){$("#"+e).append($("<div></div>").addClass("spinner-border spinner-border-sm").attr("role","status"));let n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=function(){var t=n.duration;n.duration=t,$("#"+e).html(""),$("#"+e).text(formattedTimeSince(t))},n.src=t}}()}null==ye.description||""==ye.description.trim()?$("#courseSingleDescription").append($("<span></span>").text("No content")):new Quill("#courseSingleDescription",{modules:{toolbar:!1},readOnly:!0,theme:"snow"}).pasteHTML(ye.description);let s=$("#courseContextTagsPlace");if(null==ye.contextTags||""==ye.contextTags.trim())s.append($("<span></span>").text("No content"));else{s.html("");const e=ye.contextTags.split(",");for(let t=0;t<e.length;t++){const n=e[t];s.append($("<li></li>").append($("<i></i>").addClass("mdi mdi-check-circle-outline fs-4 text-success me-1 mt-2"),$("<span></span>").text(n)))}}}()}),100),console.log(ye)}))}catch(e){location.href="/error"}}()}if($("#course_single_page2").length){let xe=0,ke=0,Se=$("#loadingForm"),Te=$("#courseSingle2Form"),Be=$("#courseSingle2Contents"),Ee=getBlankCourse();function M(e,t){if(null==e||null==e.sections||null==e.sections[t].lectures||e.sections[t].lectures.length<1)return-1;let n=0;for(let o=0;o<e.sections[t].lectures.length;o++){"mp4"==get_url_extension(e.sections[t].lectures[o].article)&&n++}return n}function P(e,t){if(null==e||null==e.sections||null==e.sections[t].lectures||e.sections[t].lectures.length<1)return-1;let n=0;for(let o=0;o<e.sections[t].lectures.length;o++){"mp4"!=get_url_extension(e.sections[t].lectures[o].article)&&n++}return n}function N(e,t,n){var o;null==e||isNaN(t)||isNaN(n)||null==e.sections||t>e.sections.length-1||null==e.sections[t].lectures||n>e.sections[t].lectures.length-1?console.log("Somethings went wrong!"):(xe=t,ke=n,o=e.sections[t].lectures[n].article,$("#courseSingle2Video").hide(),$("#courseSingle2FileDownloadDiv").hide(),"mp4"==get_url_extension(o)?($("#courseSingle2Video").show(),videojs(document.querySelector("#courseSingle2Video")).src({src:o,type:"video/mp4"})):$("#courseSingle2FileDownloadDiv").show(),O())}async function O(){if(Be.html(""),$("#courseSingle2SectionTitle").text(Ee.sections[xe].title),$("#courseSingle2LectureTitle").text(Ee.sections[xe].lectures[ke].title),$("#courseSingle2Title").text(Ee.title),null!=Ee.sections&&Ee.sections.length>0){for(let e=0;e<Ee.sections.length;e++){let t=$("<li></li>").addClass("list-group-item p-0 bg-transparent"),n=$("<a></a>").addClass("h4 mb-0 d-flex align-items-center text-inherit text-decoration-none py-3 px-4").attr("data-bs-toggle","collapse").attr("href","#cs2link_s"+e).attr("role","button").attr("aria-expanded","false").attr("aria-controls","cs2link_s"+e),o=$("<div></div>").addClass("me-auto"),i=$("<span></span>").text(Ee.sections[e].title);const a=M(Ee,e),l=P(Ee,e);let r="";a>0&&(r+=1==a?a+" video":a+" videos"),l>0&&(r+=(a>0?" ":"")+l==1?l+" file":l+" files");let s=$("<p></p>").addClass("mb-0 text-muted fs-6 mt-1 fw-normal").text(r);o.append(i,s);let d=$("<span></span>").addClass("chevron-arrow ms-4"),c=$("<i></i>").addClass("fe fe-chevron-down fs-4");d.append(c),n.append(o,d),t.append(n);let u=$("<div></div>").addClass("collapse show").attr("id","cs2link_s"+e).attr("data-bs-parent","#courseAccordion"),p=$("<ul></ul>").addClass("list-group list-group-flush"),m=$("<li></li>").addClass("list-group-item"),f=$("<div></div>"),h=$("<div></div>").addClass("progress").css("height","6px"),g=$("<div></div>").addClass("progress-bar bg-success").attr("role","progressbar").css("width","10%"),_=$("<small></small>").text("5% Completed");if(h.append(g),f.append(h,_),m.append(f),p.append(m),u.append(p),t.append(u),null!=Ee.sections[e].lectures&&Ee.sections[e].lectures.length>0)for(let t=0;t<Ee.sections[e].lectures.length;t++){let n=$("<li></li>").addClass("list-group-item list-group-item-action"+(xe==e&&ke==t?" active":"")),o=$("<a></a>").addClass("d-flex justify-content-between align-items-center text-inherit text-decoration-none"+(xe==e&&ke==t?" text-white":"")).attr("href","#").attr("id","lecture_s"+e+"_l_"+t),i=$("<div></div>").addClass("text-truncate"),a=$("<span></span>").addClass("icon-shape bg-light text-primary icon-sm rounded-circle me-2").html('<i class="'+getIconByExtension(get_url_extension(Ee.sections[e].lectures[t].article))+' fs-4"></i>'),l=$("<span></span>").text(Ee.sections[e].lectures[t].title);i.append(a,l);let r=$("<div></div>").addClass("text-truncate"),s=$("<span></span>").text("."+get_url_extension(Ee.sections[e].lectures[t].article));r.append(s),o.append(i,r),n.append(o),p.append(n)}Be.append(t)}!function(){for(let e=0;e<Ee.sections.length;e++)for(let t=0;t<Ee.sections[e].lectures.length;t++)$("#lecture_s"+e+"_l_"+t).on("click",(function(){N(Ee,e,t)}))}()}(CourseLevelEnum[Ee.level]>0&&$("#courseSingle2Level1").attr("fill","#754FFE"),CourseLevelEnum[Ee.level]>1&&$("#courseSingle2Level2").attr("fill","#754FFE"),CourseLevelEnum[Ee.level]>2&&$("#courseSingle2Level3").attr("fill","#754FFE"),$("#courseSingle2Level").text(Ee.level),$("#courseSingle2Description").html(),null==Ee.description||""==Ee.description.trim())?$("#courseSingle2Description").append($("<span></span>").text("No content")):new Quill("#courseSingle2Description",{modules:{toolbar:!1},readOnly:!0,theme:"snow"}).pasteHTML(Ee.description);let e=$("#courseContextTagsPlace");if(e.html(""),null==Ee.contextTags||""==Ee.contextTags.trim())e.append($("<span></span>").text("No content"));else{e.html("");const t=Ee.contextTags.split(",");for(let n=0;n<t.length;n++){const o=t[n];e.append($("<li></li>").append($("<i></i>").addClass("mdi mdi-check-circle-outline fs-4 text-success me-1 mt-2"),$("<span></span>").text(o)))}}}!function(){try{var e={url:"http://localhost:8080/stoody/api/v1/course/findCourseWithDetails/"+1,method:"GET",timeout:0};$.ajax(e).done((function(e){Ee=e.response,setTimeout((function(){Se.hide(),Te.fadeIn(),O()}),100),console.log(Ee)}))}catch(e){location.href="/error"}}(),N(Ee,ke,xe)}}();
"use strict";!function(){var i=window.location+"",t=i.replace(window.location.protocol+"//"+window.location.host+"/","");$("ul#sidebarnav a").filter((function(){return this.href===i||this.href===t})).parentsUntil(".sidebar-nav").each((function(i){$(this).is("li")&&0!==$(this).children("a").length?($(this).children("a").addClass("active"),$(this).parent("ul#sidebarnav").length,$(this).addClass("active")):$(this).is("ul")||0!==$(this).children("a").length?$(this).is("ul")&&$(this).addClass("in"):$(this).addClass("active")}))}();